<?php include("menu/link_css.php");?>
<body>
    <div class="container-xxl bg-white p-0">
        <!-- Navbar & Hero Start -->
        <div class="container-xxl position-relative p-0">
            <?php include("menu/navbar.php");?>
            <div class="container-xxl py-5 bg-dark hero-header mb-5">
                <div class="container my-5 py-5">
                    <div class="row align-items-center g-5">
                        <div class="col-lg-6 text-center text-lg-start">
                            <h1 class="display-3 text-white animated slideInLeft">Savourez notre<br>Délicieux Repas</h1>
                            <p class="text-white animated slideInLeft mb-4 pb-2">Offrez-vous un moment de plaisir culinaire avec notre sélection de plats faits maison, préparés avec des ingrédients frais et de qualité. Chaque bouchée est une invitation à découvrir des saveurs authentiques et un régal pour vos papilles.</p>
                            <a href="make_reservation.php" class="btn btn-primary py-sm-3 px-sm-5 me-3 animated slideInLeft shadow-none">Réserver une Table</a>
                        </div>
                        <div class="col-lg-6 text-center text-lg-end overflow-hidden">
                            <img class="img-fluid" src="assets/img/hero.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Navbar & Hero End -->


        <!-- Service Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="row g-4">
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.1s">
                        <div class="service-item rounded pt-3 h-100">
                            <div class="p-4">
                                <i class="fa fa-3x fa-user-tie text-secondary mb-4"></i>
                                <h5>Chefs Maîtres</h5>
                                <p>Des chefs talentueux qui préparent des plats exquis avec passion et savoir-faire, offrant une expérience culinaire inoubliable.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.3s">
                        <div class="service-item rounded pt-3 h-100">
                            <div class="p-4">
                                <i class="fa fa-3x fa-utensils text-primary mb-4"></i>
                                <h5>Alimentation de Qualité</h5>
                                <p>Des ingrédients frais et soigneusement sélectionnés pour garantir des plats savoureux et sains, satisfaisant les goûts les plus exigeants.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.5s">
                        <div class="service-item rounded pt-3 h-100">
                            <div class="p-4">
                                <i class="fa fa-3x fa-cart-plus text-primary mb-4"></i>
                                <h5>Commande en Ligne</h5>
                                <p>Facilitez votre expérience culinaire en commandant vos plats préférés en quelques clics, livrés directement chez vous.</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 wow fadeInUp" data-wow-delay="0.7s">
                        <div class="service-item rounded pt-3 h-100">
                            <div class="p-4">
                                <i class="fa fa-3x fa-headset text-primary mb-4"></i>
                                <h5>Service 24/7</h5>
                                <p>Profitez d'un service disponible à tout moment, jour et nuit, pour satisfaire toutes vos envies culinaires.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Service End -->


        <!-- About Start -->
        <div class="container-xxl py-5">
            <div class="container">
                <div class="row g-5 align-items-center">
                    <div class="col-lg-6">
                        <div class="row g-3">
                            <div class="col-6 text-start">
                                <img class="img-fluid rounded w-100 wow zoomIn" data-wow-delay="0.1s" src="assets/img/about-1.jpg">
                            </div>
                            <div class="col-6 text-start">
                                <img class="img-fluid rounded w-75 wow zoomIn" data-wow-delay="0.3s" src="assets/img/about-2.jpg" style="margin-top: 25%;">
                            </div>
                            <div class="col-6 text-end">
                                <img class="img-fluid rounded w-75 wow zoomIn" data-wow-delay="0.5s" src="assets/img/about-3.jpg">
                            </div>
                            <div class="col-6 text-end">
                                <img class="img-fluid rounded w-100 wow zoomIn" data-wow-delay="0.7s" src="assets/img/about-4.jpg">
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <h5 class="section-title ff-secondary text-start text-primary fw-normal">About Us</h5>
                        <h1 class="mb-4">Bienvenue chez <i class="fa fa-utensils text-primary me-2"></i>QuickMeal !</h1>
                        <p class="mb-4">Découvrez une expérience culinaire unique où rapidité et qualité se rencontrent. Chez QuickMeal, nous nous engageons à vous offrir des plats savoureux préparés avec des ingrédients frais. Que vous souhaitiez déguster un repas sur le pouce ou organiser un banquet, notre menu varié saura satisfaire toutes vos envies. Commandez maintenant et savourez la différence !</p>
                        
                        <div class="row g-4 mb-4">
                            <div class="col-sm-6">
                                <div class="d-flex align-items-center border-start border-5 border-primary px-3">
                                    <h1 class="flex-shrink-0 display-5 text-secondary mb-0" data-toggle="counter-up">15</h1>
                                    <div class="ps-4">
                                        <p class="mb-0">Années d'</p>
                                        <h6 class="text-uppercase mb-0">Expérience</h6>
                                    </div>

                                </div>
                            </div>
                            <div class="col-sm-6">
                                <div class="d-flex align-items-center border-start border-5 border-primary px-3">
                                    <h1 class="flex-shrink-0 display-5 text-secondary mb-0" data-toggle="counter-up">50</h1>
                                    <div class="ps-4">
                                        <p class="mb-0">Populaires</p>
                                        <h6 class="text-uppercase mb-0">Chefs cuisiniers</h6>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <a class="btn btn-primary py-3 px-5 mt-2 shadow-none" href="">Lire la suite</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- About End -->


        <div class="container-xxl pt-5 pb-3">
            <div class="container">
                <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
                    <h1 class="mb-5">Nos Chefs Cuisiniers</h1>
                </div>
                <div class="row g-4">
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
                        <div class="team-item text-center rounded overflow-hidden">
                            <div class="rounded-circle overflow-hidden m-4">
                                <img class="img-fluid" src="https://i.pinimg.com/564x/07/01/e5/0701e5a1cd4f91681f76cf3691176680.jpg" alt="">
                            </div>
                            <h5 class="mb-0">Massimo Bottura </h5>
                            <div class="d-flex justify-content-center mt-3">
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
                        <div class="team-item text-center rounded overflow-hidden">
                            <div class="rounded-circle overflow-hidden m-4">
                                <img class="img-fluid" src="https://i.pinimg.com/564x/07/01/e5/0701e5a1cd4f91681f76cf3691176680.jpg" alt="">
                            </div>
                            <h5 class="mb-0">Alain Ducasse</h5>
                            <div class="d-flex justify-content-center mt-3">
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
                        <div class="team-item text-center rounded overflow-hidden">
                            <div class="rounded-circle overflow-hidden m-4">
                                <img class="img-fluid" src="https://i.pinimg.com/564x/07/01/e5/0701e5a1cd4f91681f76cf3691176680.jpg" alt="">
                            </div>
                            <h5 class="mb-0">Nobu Matsuhisa</h5>
                           
                            <div class="d-flex justify-content-center mt-3">
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.7s">
                        <div class="team-item text-center rounded overflow-hidden">
                            <div class="rounded-circle overflow-hidden m-4">
                                <img class="img-fluid" src="https://i.pinimg.com/564x/07/01/e5/0701e5a1cd4f91681f76cf3691176680.jpg" alt="">
                            </div>
                            <h5 class="mb-0">Gordon Ramsay</h5>
                            <div class="d-flex justify-content-center mt-3">
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-facebook-f"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-twitter"></i></a>
                                <a class="btn btn-square btn-primary mx-1" href=""><i class="fab fa-instagram"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <?php
// Inclure la connexion PDO
include_once("database/connexion.php");

// Récupération des commentaires depuis la base de données
$query = "SELECT * FROM commentaires WHERE is_deleted = FALSE ORDER BY created_at DESC";
$stmt = $connexion->prepare($query);
$stmt->execute();
$commentaires = $stmt->fetchAll(PDO::FETCH_ASSOC);

// Fonction pour calculer le temps écoulé (en heures, minutes, etc.)
function timeAgo($timestamp) {
    $time_ago = strtotime($timestamp);
    $current_time = time();
    $time_difference = $current_time - $time_ago;
    $seconds = $time_difference;
    $minutes      = round($seconds / 60);           // value 60 is seconds
    $hours        = round($seconds / 3600);         // value 3600 is 60 minutes * 60 sec
    $days         = round($seconds / 86400);        // value 86400 is 24 hours * 60 minutes * 60 sec
    $weeks        = round($seconds / 604800);       // value 604800 is 7 days * 24 hours * 60 minutes * 60 sec
    $months       = round($seconds / 2629440);      // value 2629440 is ((365+365+365+365)/4/12) days * 24 hours * 60 minutes * 60 sec
    $years        = round($seconds / 31553280);     // value 31553280 is (365+365+365+365)/4 days * 24 hours * 60 minutes * 60 sec

    if ($seconds <= 60) {
        return "Juste maintenant";
    } else if ($minutes <= 60) {
        if ($minutes == 1) {
            return "Il y a une minute";
        } else {
            return "Il y a $minutes minutes";
        }
    } else if ($hours <= 24) {
        if ($hours == 1) {
            return "Il y a une heure";
        } else {
            return "Il y a $hours heures";
        }
    } else if ($days <= 7) {
        if ($days == 1) {
            return "Hier";
        } else {
            return "Il y a $days jours";
        }
    } else if ($weeks <= 4.3) { // 4.3 == 30/7
        if ($weeks == 1) {
            return "Il y a une semaine";
        } else {
            return "Il y a $weeks semaines";
        }
    } else if ($months <= 12) {
        if ($months == 1) {
            return "Il y a un mois";
        } else {
            return "Il y a $months mois";
        }
    } else {
        if ($years == 1) {
            return "Il y a un an";
        } else {
            return "Il y a $years ans";
        }
    }
}
?>

<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container">
        <div class="text-center">
            <h5 class="section-title ff-secondary text-center text-primary fw-normal">Testimonial</h5>
            <h1 class="mb-5 text-white">Ce que disent nos clients !!!</h1> <!-- Ajout de la classe text-white pour le titre -->
        </div>
        <div class="owl-carousel testimonial-carousel">
            <?php foreach ($commentaires as $commentaire): ?>
                <div class="testimonial-item bg-dark border rounded p-4 h-100 mx-2 text-white"> <!-- Ajout de text-white ici -->
                    <i class="fa fa-quote-left fa-2x text-primary mb-3"></i>
                    <p><?= htmlspecialchars($commentaire['commentaire']) ?></p>
                    <div class="d-flex align-items-center">
                        <img class="img-fluid flex-shrink-0 rounded-circle" src="assets/img/testimonial-1.jpg" style="width: 50px; height: 50px;">
                        <div class="ps-3">
                            <!-- Remplacez uuid par le nom de l'utilisateur si vous avez ce champ -->
                            <small class="text-white">Profession</small> <!-- Ajout de text-white ici -->
                            <div class="text-white"><?= timeAgo($commentaire['created_at']) ?></div> <!-- Ajout de text-white ici -->
                        </div>
                    </div>
                </div>
            <?php endforeach; ?>
        </div>
    </div>
</div>


       <div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
        <div class="container">
        <?php include 'process_add_request.php'; ?>
        <div class="col-md-12 col-sm-12 mb-3">
            <?php if (!empty($erreur)): ?>
                <div class="alert alert-danger"><?php echo $erreur; ?></div>
            <?php endif; ?>

            <?php if (!empty($success)): ?>
                <div class="alert alert-success"><?php echo $success; ?></div>
            <?php endif; ?>
        </div>

        <div class="col-md-12">
            <form action="" method="post">
                <div class="mb-3">
                    <label for="commentaire" class="form-label font-16 font-weight-bold">Votre commentaire <span class="text-danger">*</span></label>
                    <textarea class="form-control shadow-none" id="commentaire" name="commentaire" rows="5"></textarea>
                    <?php if (isset($erreur_champ) && empty($_POST['commentaire'])): ?>
                        <small class="text-danger"><?= htmlspecialchars($erreur_champ) ?></small>
                    <?php endif; ?>
                </div>
                <div class="mb-3">
                    <button type="submit" name="submit" class="btn btn-primary">Soumettre</button>
                </div>
            </form>
        </div>
    </div>
</div>

        <!-- Testimonial End -->
        <!-- Team End -->
        <?php include_once("menu/footer.php");?>
        <!-- Footer End -->
        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top shadow-none"><i class="bi bi-arrow-up"></i></a>
    </div>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/lib/wow/wow.min.js"></script>
    <script src="assets/lib/easing/easing.min.js"></script>
    <script src="assets/lib/waypoints/waypoints.min.js"></script>
    <script src="assets/lib/counterup/counterup.min.js"></script>
    <script src="assets/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="assets/lib/tempusdominus/js/moment.min.js"></script>
    <script src="assets/lib/tempusdominus/js/moment-timezone.min.js"></script>
    <script src="assets/lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

    <!-- Template Javascript -->
    <script src="assets/js/main.js"></script>
</body>

</html>
